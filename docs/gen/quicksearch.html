<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Documentation Classes Slot Global applyWithmixinupdate Global Methods applyWith(slotValuePairs) update a group of slots by applying functions upon them, and starts a mutation proccess whose roots are these slots to be changed Parameters: Name Type Description slotValuePairs array each element is an array, whose first value is a Slot, and second is the function to be applied Example let $$p1 = $$(1).tag('p1'); let $$p2 = $$(2).tag('p2'); let $$p3 = $$p2.fork(it =&gt; it + 1).tag('p3'); let $$p4 = $$(function ([p1, p2, p3], { roots, involved }) { console.log(roots.map(it =&gt; it.tag())); // p1, p2 console.log(involved.map(it =&gt; it.tag())); // p1, p2, p3 return p1 + p2 + p3; }, [$$p1, $$p2, $$p3]); $$.applyWith([ [$$p1, n =&gt; n + 1], [$$p2, n =&gt; n + 2], ]); console.log($$p1.val(), $$p2.val(), $$p3.val(), $$p4.val()); // 2, 4, 5, 11 mixin(mixins) add methods to Slot's prototype Parameters: Name Type Description mixins object the mixins to be added Example $$.mixin({ negate() { return this.val(-this.val()); } }); const $$s = $$(1).negate(); console.log($$s.val()); // output -1 update(slotValuePairs) update a group of slots, and starts a mutation proccess whose roots are these slots to be changed Parameters: Name Type Description slotValuePairs array each element is an array, whose first value is a Slot, and second is the new value of slots Example let $$p1 = $$(1).tag('p1'); let $$p2 = $$(2).tag('p2'); let $$p3 = $$p2.fork(it =&gt; it + 1).tag('p3'); let $$p4 = $$(function ([p1, p2, p3], { roots, involved }) { console.log(roots.map(it =&gt; it.tag())); // p1, p2 console.log(involved.map(it =&gt; it.tag())); // p1, p2, p3 return p1 + p2 + p3; }, [$$p1, $$p2, $$p3]); $$.applyWith([ [$$p1, 2], [$$p2, 4], ]); console.log($$p1.val(), $$p2.val(), $$p3.val(), $$p4.val()); // 2, 4, 5, 11 × Search results Close Documentation generated by JSDoc 3.5.5 on January 2nd 2018, 6:38:32 pm using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes Slot Global applyWithmixinupdate Classes Classes Slot × Search results Close Documentation generated by JSDoc 3.5.5 on January 2nd 2018, 6:38:32 pm using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes Slot Global applyWithmixinupdate ripple-jshttps://xiechao06.github.io/ripple-js. A deadly simple reactive frontend library. QUICKSTART$ npm install ripple-jsthen add the following codes to you html files: &lt;script src=&quot;path/to/ripple-js/dist/ripple.min.js&quot;&gt;TESTclone this repository, and run: $ npm install $ npm test × Search results Close Documentation generated by JSDoc 3.5.5 on January 2nd 2018, 6:38:32 pm using the DocStrap template. "},"Slot.html":{"id":"Slot.html","title":"Class: Slot","body":" Documentation Classes Slot Global applyWithmixinupdate Class: Slot Slot new Slot() A Slot could be created in 2 methods: new Slot(value) this will make a data slot new Slot(valueFunc, followings) this will make a follower slot, where followings is an Array. if the element (say following) in observables is a: Slot if following changed, follower will be re-evaludated by executing valueFunc, following.val() will be used as valueFunc's argument. its new value is the return value of valueFunc, and change will be propogated to follower's followers. not Slot when follower is re-evaluated, following will be used as valueFunc's argument directly. and valueFunc will accept 2 parameters: the current value of observables mutation process context, it has two keys: roots - the mutation process roots, namely, those changed by clients (api caller) directly involved - the observed involed in this mutation process the context is very useful if the evaluation function needs to return value according to which of its followings mutated let's see two example: const $$following = $$(1); const $$follower = $$((following, n) =&gt; following + n, [$$following, 2]); console.log($$follower.val()); // output 3, since n is always 2 $$following.inc(); console.log($$follower.val()); // output 4, since n is always 2 const $$a = $$(1).tag('a'); const $$b = $$(([a]) =&gt; a + 1, [$$a]).tag('b'); const $$c = $$(2).tag('c'); const $$d = $$(function ([a, b], {roots, involved}) { console.log(roots.map(it =&gt; it.tag())); // output [a] console.log(involved.map(it =&gt; it.tag())); // output [b] return a + b; }); // a is root of mutation proccess, and c is not changed in this mutation proccess $$a.inc(); Methods applyWith(func, args) apply the function to me Parameters: Name Type Description func function the mutation function args array the extra arguments provided to func, default is [] Returns: this Type Slot Examples const $$s = $$(1); $$s.applyWith(function (s, n) { return s + n; }, [2]); console.log($$s.val()); // output 3 is equivalent to const $$s = $$(1); $$s.val(function (s, n) { return s + n; }($$s.val(), 2)); change(proc) add a change handler !!!Warning, this is a very dangerous operation if you modify slots in change handler, consider the following scenario: let $$s1 = $$(1); let $$s2 = $$s1.makeFollower(it =&gt; it * 2); let $$s3 = $$s1.makeFollower(it =&gt; it * 3); $$s2.change(function () { $$s1.val(3); // forever loop )); $$s1.val(2); as a thumb of rule, don't set value for followings in change handler Parameters: Name Type Description proc function it will be invoked when slot is mutated in one mutation process the same order as it is added, it accepts the following parameters: new value of Slot the old value of Slot the mutation context for example, you could refresh the UI, when ever the final view changed Returns: this Type Slot concat(arr) concat the Slot's value with an array Parameters: Name Type Description arr array Returns: this Type Slot dec(cnt) decrement the slot's value, the slot's value should be of type number Parameters: Name Type Description cnt number the value to be deremented, default is 1 Returns: this Type Slot divide(n) divides the slot's value by n, the slot's value should be of type number Parameters: Name Type Description n number the divisor Returns: this Type Slot filter(fn) filter the Slot's value with a function Parameters: Name Type Description fn function Returns: this Type Slot Example const $$s = $$([1, 2, 3, 4]); console.log($$s.filter(it =&gt; it % 2 == 0).val()); // 2, 4 follow(valueFunc, followings) unfollow all the followings if any and follow the new followings using the new valueFunc, this method will mutate the following graph. !!NOTE this method will not re-evaluate the slot and starts the mutation process at once, so remember to call touch at last if you want to start a mutaion process Parameters: Name Type Description valueFunc function followings array please see Slot's constructor See: Slot Returns: this Type Slot fork(func) make a follower slot of me. this following has only one followings it is me. Parameters: Name Type Description func function the evaluation function Examples const $$s1 = $$(1); const $$s2 = $$s1.fork(n =&gt; n + 1); is equivalent to: const $$s1 = $$(1); const $$s2 = $$(([n]) =&gt; n + 1, [$$s1]); inc(cnt) increment the slot's value, the slot's value should be of type number Parameters: Name Type Description cnt number the value to be added, default is 1 Returns: this Type Slot isTopmost() test if slot observes others Returns: true if it observes others, else false Type boolean map(fn) map the Slot's value with a function Parameters: Name Type Description fn function Returns: this Type Slot Example const $$s = $$([1, 2, 3]); console.log($$s.map(it =&gt; it * 2).val()); // 2, 4, 6 mod(n) get remainder the slot's value, the slot's value should be of type number Parameters: Name Type Description n number the divisor Returns: this Type Slot Example const $$s = $$(17).mod(7); console.log($$s.val()); // output 3 multiply(n) multiply the slot's value by n, the slot's value should be of type number Parameters: Name Type Description n number the multiplier Returns: this Type Slot mutationTester(tester) set a handler to Slot to test if slot is mutated, here is an example: Parameters: Name Type Description tester function a handler to test if slot is changed in one mutation process, if a slot finds all its dependents are unmutation, the mutation process stops from it. A propriate tester will improve the performance dramatically sometimes. it access slot as this and slot's new value and old value as arguments, and return true if slot is changed in mutation process, else false. Example let $$s1 = $$(true); let $$s2 = $$(false); let $$s3 = $$((s1, s2) =&gt; s1 &amp;&amp; s2, [$$s1, $$s2]) .mutationTester((oldV, newV) =&gt; oldV != newV); $$s4 = $$s3.makeFollower((s3) =&gt; !s3) .change(function () { console.log('s4 changed!'); }); // $$s2 will be changed to true, but $$s3 is not changed, // neither $$s4 will be changed $$s2.toggle(); off() make the Slot's value to be false Returns: this Type Slot offChange() remove the change handler See: Slot#change omit() omit the keys Returns: this Type Slot Example const $$s = $$({ name: 'Tom', color: 'Blue' }); $$s.omit(['color']); console.log($$s.val(); // { name: 'Tom' } on() make the Slot's value to be true Returns: this Type Slot override(targetSlot) detach the target slot from its followings, and let its followers connect me(this), just as if slot has been eliminated after the detachment. this method is very useful if you want to change the dependent graph !!NOTE this method will not re-evaluate the slot and starts the mutation process at once, so remember to call touch at last if you want to start a mutaion process Parameters: Name Type Description targetSlot Slot Returns: this Type Slot patch(obj) patch the object value Parameters: Name Type Description obj object object used to patch me Returns: this Type Slot Example const $$s = $$({ name: 'Tom', color: 'Blue' }); $$s.patch({ name: 'Jerry', species: 'Mouse' }); console.log($$s.val()); // { name: 'Jerry', species: 'Mouse', colur: 'Blue' } pop() push the Slot's value Returns: this Type Slot Example const $$s = $$([1, 2, 3]); console.log($$s.pop().val()); // 1, 2 push() push the Slot's value Returns: this Type Slot Example const $$s = $$([1, 2, 3]); console.log($$s.push(4).val()); // 1, 2, 3, 4 removeFollowing(idx) this is the shortcut of replaceFollowing(idx) !!NOTE this method will not re-evaluate the slot and starts the mutation process at once, so remember to call touch at last if you want to start a mutaion process Parameters: Name Type Description idx number the index of replaceFollowing(idx, following) replaceFollowing, why not just re-follow, since follow is a quite expensive operation, while replaceFollowing only affect the replaced one !!NOTE this method will not re-evaluate the slot and starts the mutation process at once, so remember to call touch at last if you want to start a mutaion process Parameters: Name Type Description idx the index of following following a slot or any object, if not provided, the &quot;idx&quot;th following will not be followed anymore. Returns: this Type Slot reverse() reverse the Slot's value Returns: this Type Slot Example const $$s = $$([1, 2, 3]); console.log($$s.pop().val()); // [3, 2, 1] setPath() set the deep property of Slot's value Returns: this Type Slot Example const $$s = $$({ name: 'Tom' }); $$s.setPath(['friend', 'name'], 'Jerry'); console.log($$s.val(); // { name: 'Tom', frien: { 'name': 'Red'} } setProp() set the property of Slot's value Returns: this Type Slot Example const $$s = $$({ name: 'Tom', color: 'Red' }); $$s.setProp('color', 'Blue'); console.log($$s.val(); // { name: 'Tom', color: 'Red' } setV(newV) set the slot's value, and starts a mutation process Parameters: Name Type Description newV any the new value of slot, shift() shift the Slot's value Returns: this Type Slot Example const $$s = $$([1, 2, 3, 4]); console.log($$s.shift().val()); // 2, 3, 4 shrink() shrink to a data slot with value val Returns: this Type Slot slice() slice the Slot's value Returns: this Type Slot Example const $$s = $$([1, 2, 3, 4]); console.log($$s.slice(1, 2).val()); // [2] tag(v) Set/get tag of slot, useful when debugging. Parameters: Name Type Description v string | undefined if is string, set the tag of slot and return this, else return the tag Returns: Type string | Slot Example // set tag will return this const $$s = $$('foo').tag('bar'); console.log($$s.tag()); // output bar toggle() toggle the Slot's value Returns: this Type Slot touch(propogate, context, callChangeCbs) touch a slot, that means, re-evaluate the slot's value forcely, and starts mutation process and call change callbacks if neccessary. usually, you don't need call this method, only when you need to mutate the following graph (like override, replaceFollowing, follow) Parameters: Name Type Description propogate if starts a mutation process, default is true context if null, the touched slot is served as roots, default is null callChangeCbs if call change callbacks, default is true See: Slot#override Returns: return true if this Slot is mutated, else false Type boolean unshift() shift the Slot's value Returns: this Type Slot Example const $$s = $$([2, 3, 4]); console.log($$s.unshift(1).val()); // 1, 2, 3, 4 val() get or set the value, if no argument is given, get the current value of Slot, otherwise, set the value of Slot, the mutation process starts, and returns this Returns: Type any | Slot × Search results Close Documentation generated by JSDoc 3.5.5 on January 2nd 2018, 6:38:32 pm using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
